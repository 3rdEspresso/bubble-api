type Query {
  userById(id: ID!): User
  deviceById(id: ID!): Device
  refreshToken: AuthResponse
  loginViaNfcCardAndDeviceId(nfcCardId: String!, deviceId: String!): AuthResponse
}

type Mutation {
  createUserWithDevice(user: UserInput!, device: DeviceInput!): AuthResponse
  sendOTP(deviceId: String!): Boolean
  verifyOTP(deviceId: String!, otp: String!): AuthResponse
  registerNFCCard(nfcCardId: String!): User
}

input UserInput {
  name: String!
  avatar: String
  username: String!
}

input DeviceInput {
  id: String!
  name: String!
  type: String!
  os: OS!
}

type AuthResponse {
  user: User!
  token: String!
}

type User {
  id: ID
  name: String!
  username: String!
  avatar: String!
  nfcCardId: String
  primaryDevice: Device
}

type Device {
  id: ID
  name: String!
  type: String!
  os: OS!
}

enum OS {
  IOS
  ANDROID
}